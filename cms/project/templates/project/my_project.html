{% extends 'project/base.html'%} <!-- use the base file -->
{% load static %}

{% block content %} <!-- content of all web pages go -->


<div class="table-container"> 
        
    <div style="display: flex; justify-content: space-between; align-items: center;"> <!-- Flex container for header and button -->
        <h1 style="display: inline-block;"> My Project </h1> <!-- Keep the title inline -->
        
        <!-- Add Proposal Button -->
        <div class="button-container" style="float: right;"> <!-- Button container -->
            {% if not project %} 
                <a href="{% url 'add-project' %}" class="btn btn-outline-success btn-sm">
                    <i class="fas fa-plus"></i> Submit Proposal
                </a>
            {% endif %}
            
            <div class=style="float: right;">  <!-- Using gap to space out buttons -->
                <a href="javascript:history.back()" class="btn btn-outline-secondary btn-sm">Back</a>
            </div>
        </div>
    </div>
    {% if not project %} 
            </center>
            <div class="alert custom-info-alert" role="alert">
                <h4> You Have No Approved Project yet. </h4>
            </div>
            </center>
    {% else %}
  
    <table class ="table table-striped table-hover table-bordered table"> 
        <thead> 
        <tr> 
            <th scope="col"> # </th> 
            <th scope="col"> Project Name  </th> 
            <th scope="col"> Adviser </th> 
            <th scope="col"> Project Group </th>
            <th scope="col">Panel 1</th>
            <th scope="col">Panel 2</th>
            <th scope="col">Panel 3 </th>
            <th scope="col"> Project Type  </th> 
            <th scope="col"> Status  </th> 
        </tr> 
    </thead>  
    <tbody>

                <tr>
                    <td> <strong> 1 </strong>  </td> 
                    <td> <a href ="{% url 'show-project' project.id %}" > {{ project.title}} </a>  </td> 
                    <td class="{% if project.adviser == user %}table-warning{% endif %}">  {{ project.adviser}} </td> 
                    <td>  {{ project.proponents}} </td>
                    <td>
                        {% if project.panel1 %}
                            {{ project.panel1.first_name }} {{ project.panel1.last_name }}
                        {% else %}
                            N/A
                        {% endif %}
                    </td>
                    <td>
                        {% if project.panel2 %}
                            {{ project.panel2.first_name }} {{ project.panel2.last_name }}
                        {% else %}
                            N/A
                        {% endif %}
                    </td>
                    <td>
                        {% if project.panel3 %}
                            {{ project.panel3.first_name }} {{ project.panel3.last_name }}
                        {% else %}
                            N/A
                        {% endif %}
                    </td>
                    <td>  {{ project.project_type}} </td>
                    <td><span class="badge 
                                {% if project.status == 'approved' %}
                                    bg-success
                                {% elif project.status == 'pending' %}
                                    bg-warning text-dark
                                {% elif project.status == 'declined' %}
                                    bg-danger
                                {% else %}
                                    bg-secondary
                                {% endif %}"> {{ project.status }}
                            </span>  </td>
                </tr> 
        </tbody> <!-- Closing tbody tag added -->
        </table>     
        <br/> <!-- Moved outside of the table -->
        <hr/> <br/>
    </div>
{% endif %}
{% endblock %}