{% extends 'project/base.html' %} <!-- use the base file -->

{% block content %} <!-- content of all web pages go -->

    <h1> My Submitted Proposals </h1>
    <br/>
    <table class="table table-striped table-hover table-bordered table">
        <thead>
            <tr>
                <th scope="col"> Project Name </th>
                <th scope="col"> Adviser </th>
                <th scope="col"> Project Group </th>
                <th scope="col"> Project Type </th>
                <th scope="col"> Status </th>
            </tr>
        </thead>
        <tbody>
            {% for project in projects %}
                
                <tr>
                    <td> <a href="{% url 'show-proposal' project.id %}"> {{ project.title }} </a> </td>
                    <td> {{ project.adviser }} </td>
                    <td> {{ project.proponents }} </td>
                    <td> {{ project.project_type }} </td>
                    <td><span class="badge 
                                {% if project.status == 'approved' %}
                                    bg-success
                                {% elif project.status == 'pending' %}
                                    bg-warning text-dark
                                {% elif project.status == 'declined' %}
                                    bg-danger
                                {% else %}
                                    bg-secondary
                                {% endif %}
                            "> {{ project.status }}
                            </span> </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
<br/> <hr/> <br/>
    <!-- Pagination controls -->


    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
    
        {% if projects.has_previous %}
            <li class="page-item"><a class="page-link" href="?page=1">&laquo; First</a></li>
            <li class="page-item"><a class="page-link" href="?page={{projects.previous_page_number}}">Previous</a></li>
        {% endif %}
    
     
        {% for i in nums %}
        <li class="page-item {% if forloop.counter == projects.number %}disabled{% endif %}">
        <a class="page-link" href="?page={{forloop.counter}}">{{ forloop.counter }}</a>
    </li>
        {% endfor %}
        {% if projects.has_next %}
            <li class="page-item"> <a class="page-link" href="?page={{projects.next_page_number}}">Next</a></li>
            <li class="page-item"> <a class="page-link" href="?page={{projects.paginator.num_pages}}">Last &raquo;</a></li>
        {% endif %}
        
        <li class="page-item ml-auto disabled"><a href="#" class="page-link"> Page {{ projects.number }} of {{ students.paginator.num_pages }} </a></li>
    
    </ul>
    </nav>

{% endblock %}