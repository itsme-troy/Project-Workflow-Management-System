{% extends 'project/base.html'%} <!-- use the base file -->
{% load static %}
{% block content %} <!-- content of all web pages go -->

    <br/>

    <div class="container">
        <h1 class="text-center my-4">Eligible Student List</h1>
        <table class="table table-striped table-hover table-bordered">
            <caption>List of eligible students</caption>
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Last Name</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Email</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                    {% if student.role == 'STUDENT' and student.eligible %}
                        <tr>
                            <td>{{ student.last_name }}</td>
                            <td>{{ student.first_name }}</td>
                            <td>{{ student.email }}</td>
                            <td>
                                <a href="{% url 'show-student' student.id %}">
                                    <button type="button" class="btn btn-outline-primary btn-sm">View Profile</button>
                                </a>
                            </td>
                        </tr>
                    {% endif %}
                {% endfor %}
            </tbody>
        </table>

        <hr/>

        {% comment %} <h1 class="text-center my-4">Student Waitlist</h1>
        <table class="table table-striped table-hover table-bordered">
            <caption>List of students on the waitlist</caption>
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Last Name</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Email</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                    {% if student.role == 'STUDENT' and not student.eligible %}
                        <tr>
                            <td>{{ student.last_name }}</td>
                            <td>{{ student.first_name }}</td>
                            <td>{{ student.email }}</td>
                            <td>
                                <a href="{% url 'show-student' student.id %}">
                                    <button type="button" class="btn btn-outline-primary btn-sm">View Profile</button>
                                </a>
                            </td>
                        </tr>
                    {% endif %}
                {% endfor %}
            </tbody>
        </table>
    </div>

    <br/> {% endcomment %}

<!-- 
{{ students }} </br> 
Has Previous: {{ students.has_previous }} <br/> 
Has Next: {{ students.has_next }} <br/> 
Current Page: {{ students.number }} <br/> 
Number of Pages: {{ students.paginator.num_pages }} <br/> 
<hr><br/><br/> -->

<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">

    {% if students.has_previous %}
        <li class="page-item"><a class="page-link" href="?page=1">&laquo; First</a></li>
        <li class="page-item"><a class="page-link" href="?page={{students.previous_page_number}}">Previous</a></li>
    {% endif %}

 
    {% for i in nums %}
    <li class="page-item {% if forloop.counter == students.number %}disabled{% endif %}">
    <a class="page-link" href="?page={{forloop.counter}}">{{ forloop.counter }}</a>
</li>
    {% endfor %}
    {% if students.has_next %}
        <li class="page-item"> <a class="page-link" href="?page={{students.next_page_number}}">Next</a></li>
        <li class="page-item"> <a class="page-link" href="?page={{students.paginator.num_pages}}">Last &raquo;</a></li>
    {% endif %}
    
    <li class="page-item ml-auto disabled"><a href="#" class="page-link"> Page {{ students.number }} of {{ students.paginator.num_pages }} </a></li>

</ul>
</nav>

{% endblock %}