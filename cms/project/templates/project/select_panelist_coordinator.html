{% extends 'project/base.html'%} <!-- use the base file -->
{% load static %}
<link rel="stylesheet" href="{% static 'css/custom.css' %}">
{% block content %} <!-- content of all web pages go -->

<div class="table-container">
    <div class="header-container">
        <h1 class="page-title">Coordinator Panelist Selection</h1> 

        <div class="header-buttons">
            <a href="{% url 'coordinator-approval-student' %}" class="btn btn-outline-danger btn-sm"> Cancel </a>
        </div>
    </div>


        <!-- Display form errors -->
        {% if form.errors %}
         <div class="alert alert-danger">
             <ul>
                 {% for error in form.non_field_errors %}
                     <li>{{ error }}</li>
                 {% endfor %}
                 {% for field in form %}
                     {% for error in field.errors %}
                         <li> Please Fix Errors in {{ field.label }} Field </li>
                     {% endfor %}
                 {% endfor %}
             </ul>
         </div>
         {% endif %}

        <form action="" method="POST" id="CoordinatorSelectPanelistForm"> 
            {% csrf_token %}
            {{ form.as_p }}
            <br/> 
            <input type="submit" value="Update"
            class="btn btn-secondary"> 

</div>
<script>
    document.getElementById('CoordinatorSelectPanelistForm').onsubmit = function() {
        // Enable the proponents and adviser fields before submitting the form
        document.querySelector('input[name="title"]').removeAttribute('disabled');
        document.querySelector('select[name="project_type"]').removeAttribute('disabled');
        document.querySelector('select[name="proponents"]').removeAttribute('disabled');
        document.querySelector('select[name="adviser"]').removeAttribute('disabled');
        document.querySelector('textarea[name="description"]').removeAttribute('disabled');
        document.querySelector('textarea[name="panel"]').removeAttribute('disabled');
    };
</script>
 
{% endblock %}